(function(g){var y=!1,m=null,h=null,k=null,p={version:"0.0.1",init:function(a){var b=this;!1===y&&(y=!0,null!==m&&m.sign?b.api({type:"get",url:"/v1.0/app/premission/check/public",data:m,success:function(a){0==a.code?(void 0===b.util.getQuery("user_id")&&"undefined"==b.util.getCookie("user_id")&&void 0===b.util.getQuery("token")&&"undefined"==b.util.getCookie("token")?(alert("\u7528\u6237\u672a\u767b\u5f55\u6216\u8005\u767b\u5f55\u4fe1\u606f\u5df2\u7ecf\u8fc7\u671f\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55"),g.location.href="http://192.168.0.101:1994/?redirect="+location.href):b.prefixLoadTpl(b.util.getQuery("user_id")||b.util.getCookie("user_id"),b.util.getQuery("token")||b.util.getCookie("token")),k&&k({data:a.data})):(alert("\u914d\u7f6e\u9519\u8bef\uff0c\u8bf7\u91cd\u65b0\u586b\u5199\u914d\u7f6e:\u65e0\u6548\u7684appId"),setTimeout(function(){h&&h({message:"\u6743\u9650\u6821\u9a8c\u5931\u8d25 \u65e0\u6548\u7684appId",errorCode:-1})}))},error:function(a){alert("\u65e0\u6548\u7684appId");setTimeout(function(){h&&h({message:"\u6743\u9650\u6821\u9a8c\u5931\u8d25 \u65e0\u6548\u7684appId",errorCode:-1})})}}):console.log("\u914d\u7f6e\u9519\u8bef\uff0c\u8bf7\u91cd\u65b0\u586b\u5199\u914d\u7f6e",m))},config:function(a){a&&(m={appId:a.appId||-1,timestamp:a.timestamp,noncestr:a.noncestr,sign:a.signature},a.appId&&(m.appId=a.appId),this.init(a))},api:function(a){var b=new XMLHttpRequest,d=a.type||"post",c=a.url;if("get"===d&&a.data){var f=[],w;for(w in a.data)a.data.hasOwnProperty(w)&&f.push(w+"="+a.data[w]);c=c+"?"+f.join("&")}b.open(d,c,!0);a.data||(a.data={});b.onreadystatechange=function(){var c;if(4===b.readyState){if(200===b.status){try{c=JSON.parse(b.responseText)}catch(A){}c?0==c.code?"function"===typeof a.success&&a.success(c):("function"===typeof a.error?a.error(c):a.silent||alert(c.msg),9102112==c.code&&(alert(c.msg),g.location.href="http://192.168.0.101:1994/?redirect="+location.href)):"function"===typeof a.error?a.error(b,"parse_error"):a.silent||alert("\u6570\u636e\u89e3\u6790\u5931\u8d25: "+b.responseText)}else"function"===typeof a.error?a.error(b,"network_error"):a.silent||alert("\u7f51\u7edc\u6216\u670d\u52a1\u5668\u9519\u8bef: "+b.status);"function"===typeof a.complete&&a.complete(b)}};a.data instanceof FormData?(a.dauth&&b.setRequestHeader("Dauth",a.dauth),b.send(a.data)):(b.setRequestHeader("content-type","application/json"),a.dauth&&b.setRequestHeader("Dauth",a.dauth),b.send(JSON.stringify(a.data)))},error:function(a){h=a},ready:function(a){k=a},prefixLoadTpl:function(a,b){var d=this;d.api({type:"get",url:"/v1.0/login/"+a+"",data:{},success:function(c){0==c.code&&(c=c.data.result.token&&0<c.data.result.token.length?"connect":"noconnect","connect"!=c&&d.logout(a,b),k&&k({data:c}))},error:function(a){9102112==a.code&&0!=a.code&&setTimeout(function(){h&&h({message:a.msg,errorCode:-1})})}});(function(){document.head.innerHTML+="<style>.wrap-header{width:100%;min-height:62px;margin-bottom:20px;background-color:#FDFDFD;box-shadow:0 2px 4px 0 rgba(0,0,0,.04)}.wrap-footer{background-color: #cfd2d7;margin:0 auto}.wrap-header.wrap-top{background:#fff}.wrap-header.wrap-top.wrap-top-shadow{-webkit-box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.2);box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.2)}.wrap-header .user-head{height:80px;background-color:#fff}.wrap-header .user-float{background-color:#fff;position:fixed;width:100%;min-width:1200px;margin:auto;top:0;left:0;z-index:3;box-shadow:0 2px 5px rgba(0,0,0,.2)}.wrap-header #head{height:100%;z-index:1;position:relative;z-index:100;clear:both;height:80px;background:#fff;font-size:12px}.wrap-header #head .logo-box{display:inline-block;float:left;width:235px;height:80px}.wrap-header #head .logo-box .logo{display:inline-block;float:left;width:235px;height:38px;line-height:80px;background:url(http://192.168.0.101:4001/dev/site/index/images/logo.png) no-repeat;background-size:100% 100%;margin:20px 0}.wrap-header #head .nav-top{height:40px;float:right;margin:20px 0}.wrap-header #head .nav-top .user-center-btn{display:inline-block;margin-right:20px}.wrap-header #head .nav-top .nav-item{display:inline-block;-width:85px;height:40px;line-height:40px;margin-left:25px;float:left;position:relative}.wrap-header #head .nav-top .nav-item.nav-item-team{display:none}.wrap-header #head .nav-top .nav-item a.navlink{display:inline-block;width:85px;height:40px;line-height:40px;text-align:center;font-size:16px;color:#666;text-decoration:none;position:relative;border-radius:5px}.wrap-header #head .nav-top .nav-item a.navlink.nav-item-current{width:120px;padding:0 10px;color:#00d8d6;border:1px solid #00d8d6;border-radius:4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.wrap-header #head .nav-top .nav-item a.navlink.nav-item-current.larget{width:140px;padding:0 20px}.wrap-header #head .nav-top .nav-item a.navlink.nav-item-current .navlink-icon{font-size:12px;color:#00d8d6;position:absolute;right:10px}.wrap-header #head .nav-top .nav-item a.navlink:hover{-background-color:#55BEBF;color:#00d8d6}.wrap-header #head .nav-top .nav-item a.navlink-current{-background-color:#55BEBF;color:#00d8d6}.wrap-header #head .nav-top .nav-item .awardapr{position:absolute;top:-4px;right:-10px;width:28px;height:19px;animation:newAni 1s infinite linear;background-image:url(http://192.168.0.101:4001/dev/site/index/images/awardapr.png)}.wrap-header #head .nav-top .nav-item .son-nav-list{width:150px;position:absolute;z-index:1;background-color:#fff;top:60px;display:none;left:-15px;border:1px solid #d9d9d9;border-top:0}.wrap-header #head .nav-top .nav-item .son-nav-list a.sub-nav-item{display:block;width:150px;padding:0 10px;height:40px;line-height:40px;font-size:14px;text-align:center;color:#333;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.wrap-header #head .nav-top .nav-item .son-nav-list a.sub-nav-item.current,.wrap-header #head .nav-top .nav-item .son-nav-list a.sub-nav-item:hover{color:#00d8d6}.wrap-header #head .nav-top .nologin{display:block;font-size:16px;margin-left:5px;width:100px}.wrap-header #head .nav-top .nologin a{color:#00d8d6}.wrap-header #head .nav-top .userBtn.hasLogin:hover{position:relative}.wrap-header #head .nav-top .userBtn.hasLogin:hover>.user-panel{display:block}.wrap-header #head .nav-top .user-panel{display:none;position:relative;top:-20px;right:0;background-color:#fff;z-index:1;width:80px;height:80px;overflow:visible}.wrap-header #head .nav-top .user-panel .user-info{position:relative;display:inline-block;width:80px;height:50px;overflow:hidden;margin:15px auto}.wrap-header #head .nav-top .user-panel .user-info .user-info-avatar{width:50px;height:50px;border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;-o-border-radius:50%;display:inline-block}.wrap-header #head .nav-top .user-panel .user-info i{display:none;position:absolute;top:8px;right:8px}.wrap-header #head .nav-top .user-panel .user-info.visited i,.wrap-header #head .nav-top .user-panel .user-info:hover i{display:block}.wrap-header #head .nav-top .user-panel .user-asset{display:none;border:1px solid #d9d9d9;border-top:0}.wrap-header #head .nav-top .user-panel .user-asset .user-asset-link{display:inline-block;width:80px;height:40px;line-height:40px;text-align:center;font-size:14px;color:#666;background-color:#fff}.wrap-header #head .nav-top .user-panel .user-asset .user-asset-link:hover{color:#00d8d6}.wrap-footer{background-color:#cfd2d7}.footer{padding-top:25px;-border-top:1px solid #ecf0f1}.footer-link{-height:100px}.footer-link dl{width:155px;float:left;-height:100px;margin-right:100px;margin-bottom:0}.footer-link dl.attus{position:relative;width:170px;margin-right:0}.footer-link dl.attus .icon-weixin-img{display:none;position:absolute;top:-80px;left:-25px;background-image:url(http://192.168.0.101:4001/dev/site/index/images/weixin.png);width:80px;height:80px}.footer-link dl.attus .icon-qq{margin-right:50px}.footer-link dl.attus .icon-weixin{position:relative}.footer-link dl.attus .icon-qq,.footer-link dl.attus .icon-weixin{font-size:30px;color:#333;cursor:pointer;text-decoration:none}.footer-link dl.attus .icon-qq:hover,.footer-link dl.attus .icon-weixin:hover{color:#55bfbe}.footer-link dl.attus .icon-weixin:hover .icon-weixin-img{display:block}.footer-link dl .kefu-phone{font-size:16px}.footer-link dl dt{font-size:16px;font-weight:700;line-height:26px;color:#666;letter-spacing:5px;margin-bottom:20px;opacity:.6;-moz-opacity:.6;-webkit-opacity:.6;-o-opacity:.6}.footer-link dl dd{line-height:24px;font-size:14px;color:#959799;margin-bottom:15px;letter-spacing:5px}.footer-link dl dd a{font-size:16px;color:#333;letter-spacing:5px;display:inline-block}.footer-link dl dd:hover a{color:#fff}.footer-copyright{font-size:14px;color:#666;height:50px;padding-top:20px;text-align:center}</style>";var a=document.querySelector(".wrap-header"),b=document.querySelector(".wrap-footer");a.innerHTML='<div class="user-head"> <div id="head" class="clear"> <div class="logo-box clear"> <a href="javascript:;" class="logo"></a> </div> <div class="nav-top"> <ul class="nav-top-list clear"> <li class="nav-item"><a href="javascript:;" class="navlink navlink-current homeBtn">\u9996\u9875</a></li> <li class="nav-item"><a href="javascript:;" class="navlink orgBtn">\u7ec4\u7ec7\u901a\u8baf\u5f55</a></li> <li class="nav-item"><a href="javascript:;" class="navlink appBtn">\u5e94\u7528</a></li> <li class="nav-item"><a href="javascript:;" class="navlink devBtn">\u8bbe\u5907</a></li> <li class="nav-item nav-item-team"> <a href="javascript:;" class="navlink nav-item-current"><span class="navlink-name">\u5f97\u529b\u56e2\u961f</span><span class="navlink-icon"><i class="iconfont"></i></span></a> <div class="sun-nav-list sun-nav-list-team"> <a class="sub-nav-item current" href="javascript:;">\u5f97\u529b\u56e2\u961f1</a> <a class="sub-nav-item" href="javascript:;">\u5f97\u529b\u56e2\u961f2</a> <a class="sub-nav-item" href="javascript:;">\u5f97\u529b\u56e2\u961f3</a> </div> </li> <li class="nav-item nav-item-login"> <div class="nologin"> <a href="javascript:;" class="green">\u9000\u51fa</a> </div> <div class="login user-panel"> <a href="javascript:;" class="user-info fl" style="display: block;"> <img class="user-info-avatar" width="50" height="50" src="/images/user.png"> <i class="iconfont">\ue608</i> </a> <div class="user-asset fl" style="display: none;"> <a class="user-asset-link logout" href="javascript:;">\u9000\u51fa\u767b\u5f55</a> </div> </div> </li> </ul> </div> </div> </div>';b.innerHTML='<div class="footer container"><div class="footer-link clear"><dl><dt>\u4f7f\u7528\u5e2e\u52a9</dt><dd><a href="javascript:;">\u53bb\u8d2d\u4e70\u667a\u80fd\u8bbe\u5907</a></dd><dd><a href="javascript:;">App\u4f7f\u7528\u5e2e\u52a9</a></dd><dd><a href="javascript:;">\u7f51\u9875\u4f7f\u7528\u5e2e\u52a9</a></dd></dl><dl><dt>\u5e94\u7528\u5f00\u53d1\u5546</dt><dd><a href="javascript:;">\u5e94\u7528\u63a5\u5165\u6307\u5357</a></dd></dl><dl><dt>\u5173\u4e8e\u6211\u4eec</dt><dd><a href="javascript:;">\u52a0\u5165\u6211\u4eec</a></dd><dd><a href="javascript:;">\u8054\u7cfb\u6211\u4eec</a></dd></dl><dl class="attus"><dt>\u8054\u7cfb\u6211\u4eec</dt><dd class="kefu-phone">400-185-0555</dd><a class="share-icon icon-qq" href="javascript:;"><i class="iconfont"></i></a> <a class="share-icon icon-weixin" href="javascript:;"><i class="iconfont"></i><img class="icon-weixin-img" src="/images/qrcode.png"></a></dl></div><div class="footer-copyright">\u6d59ICP\u590706004512\u53f7 Copyright \u00a92014 \u5f97\u529b\u96c6\u56e2\u6709\u9650\u516c\u53f8 \u7248\u6743\u6240\u6709</div>';document.querySelector(".nologin a").addEventListener("click",function(){d.util.setCookie("user_id",void 0);d.util.setCookie("token",void 0);g.location.href="http://192.168.0.101:1994/?redirect="+location.href},!1)})()},logout:function(a,b){this.api({type:"get",url:"/v1.0/login/logout",dauth:a+" "+(new Date).valueOf()+" "+this.util.buildDauth(b),data:{},success:function(a){0==a.code&&k&&k({data:a.data})},error:function(a){setTimeout(function(){h&&h({message:a.msg,errorCode:-1})})}})},util:{setCookie:function(a,b,d){var c=new Date;c.setDate(c.getDate()+d);b=escape(b)+"; path=/"+(null==d?"":"; expires="+c.toUTCString());document.cookie=a+"="+b},getCookie:function(a){var b,d,c,f=document.cookie.split(";");for(b=0;b<f.length;b++)if(d=f[b].substr(0,f[b].indexOf("=")),c=f[b].substr(f[b].indexOf("=")+1),d=d.replace(/^\s+|\s+$/g,""),d==a)return unescape(c)},buildHash:function(a){var b,d;for(b in a.args)d+=void 0===a.args[b]?"&"+encodeURIComponent(b):"&"+encodeURIComponent(b)+"="+encodeURIComponent(a.args[b]);return d},parseHash:function(a){var b,d,c={args:{}};a=a.substr(1).replace(/[#\?].*$/,"");if(d=a.match(/[^=&]+(=[^&]*)?/g))for("!"===d[0].charAt(0)&&(b=d[0].substr(1),b in pages&&(c.id=decodeURIComponent(b))),a=1;a<d.length;a++)(b=d[a].match(/^([^=]+)(=)?(.+)?$/))&&(c.args[decodeURIComponent(b[1])]=b[2]?decodeURIComponent(b[3]||""):void 0);return c},getQuery:function(a){for(var b=g.location.href,d=b.indexOf("?"),b=b.slice(d+1).split("&"),d=0;d<b.length;d++){var c=b[d].split("=");if(c[0].trim()==a)return c[1].trim()}},SHA256:function(a){function b(a,b){var c=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(c>>16)<<16|c&65535}function d(a,b){return a>>>b|a<<32-b}a=function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):(127<d&&2048>d?b+=String.fromCharCode(d>>6|192):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128)),b+=String.fromCharCode(d&63|128))}return b}(a);return function(a){for(var b="",c=0;c<4*a.length;c++)b+="0123456789abcdef".charAt(a[c>>2]>>8*(3-c%4)+4&15)+"0123456789abcdef".charAt(a[c>>2]>>8*(3-c%4)&15);return b}(function(a,f){var c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],e=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],g=Array(64),h,k,m,t,p,v,q,x,l,n,r;a[f>>5]|=128<<24-f%32;a[(f+64>>9<<4)+15]=f;for(x=0;x<a.length;x+=16){f=e[0];h=e[1];k=e[2];m=e[3];t=e[4];p=e[5];v=e[6];q=e[7];for(l=0;64>l;l++){if(16>l)g[l]=a[l+x];else{n=l;r=g[l-2];r=d(r,17)^d(r,19)^r>>>10;r=b(r,g[l-7]);var u;u=g[l-15];u=d(u,7)^d(u,18)^u>>>3;g[n]=b(b(r,u),g[l-16])}n=t;n=d(n,6)^d(n,11)^d(n,25);n=b(b(b(b(q,n),t&p^~t&v),c[l]),g[l]);q=f;q=d(q,2)^d(q,13)^d(q,22);r=b(q,f&h^f&k^h&k);q=v;v=p;p=t;t=b(m,n);m=k;k=h;h=f;f=b(n,r)}e[0]=b(f,e[0]);e[1]=b(h,e[1]);e[2]=b(k,e[2]);e[3]=b(m,e[3]);e[4]=b(t,e[4]);e[5]=b(p,e[5]);e[6]=b(v,e[6]);e[7]=b(q,e[7])}return e}(function(a){for(var b=[],c=0;c<8*a.length;c+=8)b[c>>5]|=(a.charCodeAt(c/8)&255)<<24-c%32;return b}(a),8*a.length))},buildDauth:function(a){a=g.location.search.substr(1)+a;return this.util.SHA256(a).substr(0,32)}}},z=function(a,b){a=a.split(".");for(var d=p,c=0,f=a.length;c<f;c++)c===f-1&&(d[a[c]]=b),"undefined"===typeof d[a[c]]&&(d[a[c]]={}),d=d[a[c]]};["getLoginStatus","logout"].forEach(function(a){z(a,function(a,d,c){})});g.deli=p;g.deliAsyncInit&&function(a){a.__wrapper||(a.__wrapper=function(){try{return a.apply(this,arguments)}catch(b){return g.setTimeout(function(){throw b},0),!1}});return a.__wrapper}(g.deliAsyncInit)();"object"===typeof module&&module&&"object"===typeof module.exports?module.exports=p:"function"===typeof define&&(define.amd||define.cmd)&&define(function(){return p});console.log("deli",p)})(this);