'use strict';define(['module','common/kernel/kernel','site/util/util','page/contacts/contacts'],function(a,b,c,d){var f,e,g,h,i=c.getCookie('userid'),j=c.getCookie('token'),k=c.getCookie('orgid'),l=c.getCookie('parentid'),m=[],n=a.id.replace(/^[^/]+\/|\/[^/]+/g,''),o=$('#'+n),p=o.find('.dept-box'),q=p.find('.dept-select-list'),r=p.find('.dept-selected-list'),s=o.find('.btn-confirm'),t=o.find('.btn-close');return{onload:function onload(a){function c(a,b,c){var d=a.find('li.selected-item').attr('data-orgid'),e=a.find('li.selected-item .item-info span').text();b.find('input.department'+c+'').val($.trim(e)),b.find('input.departmentId'+c+'').val($.trim(d)),b.find('input.business'+c+'').val('')}f=a.data.id,e=a.data.org_id,m=a.data.user_ids,g=a.type,h=a.func,console.log('params',a),d.initDepartment(q.find('.dept-select-inner'),{orgid:e,user_ids:m,status:'onload',type:'parent',parentid:l},void 0,r.find('ul.dept-selected-inner')),s.off('click').on('click',function(d){d.stopPropagation(),'seldept'==g?c(r.find('ul.dept-selected-inner'),$('#adduser .add-user .add-inner .add-form-extra ul.extra-list').find('.extra-item').eq(a.data.index),a.data.index):'movedept'==g&&h&&'function'==typeof h&&h(f,r.find('ul.dept-selected-inner li.selected-item').attr('data-orgid')),b.closePopup('adddept')}),t.off('click').on('click',function(a){a.stopPropagation(),b.closePopup('adddept')})}}});